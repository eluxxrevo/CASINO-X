<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Casino-X 🎰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <!-- Style -->
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: url('https://i.imgur.com/Ya0zL4h.gif') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
    }
    .container {
      padding: 20px;
      text-align: center;
    }
    input, button {
      padding: 12px;
      margin: 8px;
      width: 80%;
      max-width: 300px;
      border-radius: 8px;
      border: none;
      outline: none;
      background: rgba(255,255,255,0.1);
      color: #fff;
      font-size: 16px;
    }
    button {
      background: #0f0;
      color: #000;
      font-weight: bold;
    }
    .hidden {
      display: none;
    }
    .game-icons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      padding: 20px;
    }
    .game-tile {
      background: rgba(0,0,0,0.6);
      padding: 15px;
      border-radius: 12px;
      cursor: pointer;
    }
    .game-tile:hover {
      background: rgba(0,0,0,0.8);
    }
    .footer {
      text-align: center;
      padding: 20px;
      font-size: 12px;
      color: #ccc;
    }
    .profile-section {
      background: rgba(0,0,0,0.7);
      padding: 15px;
      margin: 20px auto;
      max-width: 400px;
      border-radius: 12px;
    }
    .game-area {
      padding: 20px;
    }
    .cell {
      display: inline-block;
      width: 40px;
      height: 40px;
      background: #222;
      margin: 3px;
      font-size: 24px;
      line-height: 40px;
      text-align: center;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container" id="auth">
    <h2>Welcome to Casino-X 🎰</h2>
    <input type="email" id="email" placeholder="Email"><br>
    <input type="password" id="password" placeholder="Password"><br>
    <label>
      <input type="checkbox" id="ageCheck"> I am 18+ and agree to <a href="#">terms</a>
    </label><br>
    <button onclick="register()">Register</button>
    <button onclick="login()">Login</button>
    <p id="error" style="color:red;"></p>
  </div>

  <div class="container hidden" id="dashboard">
    <h2>Hello, <span id="userEmail"></span></h2>
    <p>💰 Balance: $<span id="userBalance">0</span></p>
    <button onclick="showProfile()">My Profile</button>
    <div class="game-icons">
      <div class="game-tile" onclick="loadGame('mines')">💣 Mines</div>
      <div class="game-tile" onclick="loadGame('spin')">🍾 Spin the Bottle</div>
      <div class="game-tile" onclick="loadGame('rolex')">⌚ Rolex</div>
      <div class="game-tile" onclick="loadGame('fruit')">🍎 Fruit Hunt</div>
      <div class="game-tile" onclick="loadGame('spinto')">🎡 Spin to Win</div>
      <div class="game-tile" onclick="loadGame('aviator')">✈ Aviator</div>
      <div class="game-tile" onclick="loadGame('hero')">🚂 Casino Hero</div>
      <div class="game-tile" onclick="loadGame('pong')">🏓 Ping-pong</div>
      <div class="game-tile" onclick="loadGame('wicket')">🏏 Wicket Blast</div>
      <div class="game-tile" onclick="logout()">🚪 Logout</div>
    </div>
    <div id="gameContainer" class="game-area"></div>
  </div>

  <div class="container hidden" id="profile">
    <div class="profile-section">
      <h3>👤 My Profile</h3>
      <p>Email: <span id="profileEmail"></span></p>
      <p>Balance: $<span id="profileBalance">0</span></p>
      <button onclick="window.open('https://paystack.com/buy/casino-x-wgojzd','_blank')">Deposit via Paystack</button><br>
      <input type="number" id="withdrawAmount" placeholder="Withdraw amount"><br>
      <button onclick="withdraw()">Withdraw</button><br>
      <button onclick="backToDashboard()">⬅ Back</button>
    </div>
  </div 
  <!-- Scripts -->
  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDOfuS7bXfY8AouF3SoP17jzCQTPH90K9w",
      authDomain: "casino-x-87092.firebaseapp.com",
      databaseURL: "https://casino-x-87092-default-rtdb.firebaseio.com",
      projectId: "casino-x-87092",
      storageBucket: "casino-x-87092.appspot.com",
      messagingSenderId: "834980865993",
      appId: "1:834980865993:android:77964ded59f8fcb97fea18"
    };
    firebase.initializeApp(firebaseConfig);

    function register() {
      const email = emailInput.value;
      const password = passwordInput.value;
      if (!ageCheck.checked) return error.textContent = "You must confirm you're 18+.";
      firebase.auth().createUserWithEmailAndPassword(email, password).then(user => {
        firebase.database().ref("users/" + user.user.uid).set({
          email: email,
          balance: 10
        });
      }).catch(e => error.textContent = e.message);
    }

    function login() {
      firebase.auth().signInWithEmailAndPassword(emailInput.value, passwordInput.value)
        .catch(e => error.textContent = e.message);
    }

    function logout() {
      firebase.auth().signOut();
    }

    function showProfile() {
      profile.classList.remove('hidden');
      dashboard.classList.add('hidden');
      const user = firebase.auth().currentUser;
      firebase.database().ref("users/" + user.uid).once("value").then(snap => {
        const data = snap.val();
        profileEmail.textContent = user.email;
        profileBalance.textContent = data.balance;
      });
    }

    function backToDashboard() {
      profile.classList.add('hidden');
      dashboard.classList.remove('hidden');
      updateBalance();
    }

    function withdraw() {
      const amount = parseFloat(withdrawAmount.value);
      const user = firebase.auth().currentUser;
      if (!user || amount < 5) return alert("Min $5 to withdraw.");
      const ref = firebase.database().ref("users/" + user.uid);
      ref.once("value").then(snap => {
        let balance = snap.val().balance;
        if (balance >= amount) {
          balance -= amount;
          ref.update({ balance });
          alert("Withdrawal request submitted!");
          withdrawAmount.value = "";
          profileBalance.textContent = balance;
        } else {
          alert("Insufficient balance.");
        }
      });
    }

    firebase.auth().onAuthStateChanged(user => {
      if (user) {
        auth.classList.add('hidden');
        dashboard.classList.remove('hidden');
        userEmail.textContent = user.email;
        updateBalance();
      } else {
        auth.classList.remove('hidden');
        dashboard.classList.add('hidden');
      }
    });

    function updateBalance() {
      const user = firebase.auth().currentUser;
      if (!user) return;
      firebase.database().ref("users/" + user.uid).once("value").then(snapshot => {
        const data = snapshot.val();
        userBalance.textContent = (data && data.balance) || 0;
      });
    }

    function loadGame(game) {
      const bet = prompt("Enter your bet amount:");
      const user = firebase.auth().currentUser;
      if (!user || !bet || isNaN(bet) || bet <= 0) return;

      firebase.database().ref("users/" + user.uid).once("value").then(snap => {
        let balance = snap.val().balance;
        if (balance < bet) return alert("Insufficient balance.");

        let win = false;
        let payout = 0;
        let output = "";

        if (game === "mines") {
          const gridSize = 5;
          let mineCount = Math.floor(Math.random() * 5 + 1);
          let board = "";
          for (let i = 0; i < gridSize * gridSize; i++) {
            board += `<div class="cell" onclick="this.style.background='red'">💠</div>`;
            if ((i + 1) % gridSize === 0) board += "<br>";
          }
          output = `<h3>Mines (${mineCount} hidden)</h3>${board}`;
          payout = bet * 2;
          win = Math.random() > 0.5;
        } else if (game === "spin") {
          const r = Math.floor(Math.random() * 360);
          output = `The bottle landed on: ${r}°`;
          win = r % 2 === 0;
          payout = bet * 1.8;
        } else if (game === "rolex") {
          const d = Math.floor(Math.random() * 10);
          output = `Rolex dial spun: ${d}`;
          win = d > 5;
          payout = bet * 2.5;
        } else if (game === "fruit") {
          const fruit = ["🍎", "🍊", "🍇"];
          const spin = [fruit[Math.floor(Math.random()*3)], fruit[Math.floor(Math.random()*3)], fruit[Math.floor(Math.random()*3)]];
          output = spin.join(" ");
          win = spin[0] === spin[1] && spin[1] === spin[2];
          payout = bet * 3;
        } else if (game === "spinto") {
          const prize = Math.random();
          win = prize > 0.6;
          output = `Spun the wheel... ${win ? "You win!" : "Try again!"}`;
          payout = bet * 2;
        } else if (game === "aviator") {
          let multiplier = parseFloat((1 + Math.random() * 4).toFixed(2));
          win = Math.random() > 0.5;
          output = `🛫 Plane reached x${multiplier} before crashing!`;
          payout = win ? bet * multiplier : 0;
        } else if (game === "hero") {
          let speed = parseFloat((Math.random() * 5).toFixed(1));
          win = speed > 2;
          output = `🚂 Train speed: ${speed}x`;
          payout = win ? bet * speed : 0;
        } else if (game === "pong") {
          win = Math.random() > 0.5;
          output = win ? "🏓 You scored a point!" : "Missed!";
          payout = win ? bet * 2 : 0;
        } else if (game === "wicket") {
          let hit = Math.random();
          win = hit > 0.5;
          output = win ? "🏏 You hit a six!" : "You got bowled!";
          payout = win ? bet * 2.2 : 0;
        }

        let finalBalance = win ? balance + payout : balance - bet;
        firebase.database().ref("users/" + user.uid).update({ balance: finalBalance });
        gameContainer.innerHTML = `<p>${output}</p><p>${win ? `🎉 Won $${payout}` : `❌ Lost $${bet}`}</p><button onclick="backToDashboard()">Back</button>`;
        updateBalance();
      });
    }
  </script>

  <div class="footer">© 2025 Casino-X | Endorsed by Reverend</div>
</body>
  </html>
